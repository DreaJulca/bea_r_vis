p_1
p_2 <- p_1 +
stat_smooth(method = "loess")
p_2
dates_to_show <- gdp$Period[seq(1, length(gdp$Period), by = 20)]
print(dates_to_show)
p_3 <- p_2 +
scale_y_continuous(labels=scales::dollar_format()) +  # Use the "dollar_format()" function from scales (ggplot dep'cy)
scale_x_discrete(breaks = dates_to_show) # Use the dates_to_show var we defined above to skip 20 quarters
p_3
p_1 <- p_0 +
geom_line(aes(size = Dollars/Population), color = "#FC4E07") +
geom_line(size = 1.05)
p_1
p_2 <- p_1 +
stat_smooth(method = "loess")
p_2
dates_to_show <- gdp$Period[seq(1, length(gdp$Period), by = 20)]
print(dates_to_show)
p_3 <- p_2 +
scale_y_continuous(labels=scales::dollar_format()) +  # Use the "dollar_format()" function from scales (ggplot dep'cy)
scale_x_discrete(breaks = dates_to_show) # Use the dates_to_show var we defined above to skip 20 quarters
p_3
p_4 <- p_3 +
theme(axis.text.x = element_text(angle = 45, vjust = 0.5, hjust=1))
p_4 <- p_3 +
theme(axis.text.x = element_text(angle = 45, vjust = 0.5, hjust=1))
p_4
p_4 <- p_3 +
theme(axis.text.x = element_text(angle = 45, hjust=1))
p_4
p_4 <- p_3 +
+ ggtitle("Nominal Gross Domestic Product") +
theme(axis.text.x = element_text(angle = 45, hjust=1))
p_4 <- p_3 +
ggtitle("Nominal Gross Domestic Product") +
theme(axis.text.x = element_text(angle = 45, hjust=1))
p_4
p_4 <- p_3 +
labs(title = "Nominal Gross Domestic Product",
subtitle = "Total, Per Capita, and Projection") +
theme(axis.text.x = element_text(angle = 45, hjust=1))
p_4
p_4 <- p_3 +
labs(title = "Nominal Gross Domestic Product",
subtitle = "Total, Per Capita, and Projection") +
theme(axis.text.x = element_text(angle = 45, hjust=1),
plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
p_4
p_4 <- p_3 +
labs(title = "Nominal Gross Domestic Product",
subtitle = "Total, Per Capita, and Projection") + #Add chart title, subtitle
theme(axis.text.x = element_text(angle = 45, hjust=1), #Rotate axis labels and shift to the right
plot.title = element_text(hjust = 0.5),          #Center chart title
plot.subtitle = element_text(hjust = 0.5))       #Center chart subtitle
p_4
p_1 <- p_0 +
geom_line(aes(size = 1000000000*Dollars/Population), color = "#FC4E07") +
geom_line(size = 1.05)
p_1
p_1 <- p_0 +
geom_line(aes(size = Dollars/Population), color = "#FC4E07") +
geom_line(size = 1.05)
p_1
#Create the base layer
p_0 <- ggplot(gdp, aes(x=Period, y=Dollars, group=1))
#At first, this is just an empty canvas with axis labels and grid lines.
p_0
p_1 <- p_0 +
geom_line(aes(size = Dollars/Population), color = "#FC4E07") +
geom_line(size = 1.05)
p_1
p_2 <- p_1 +
stat_smooth(method = "loess")
p_2
dates_to_show <- gdp$Period[seq(1, length(gdp$Period), by = 20)]
print(dates_to_show)
p_3 <- p_2 +
scale_y_continuous(labels=scales::dollar_format()) +  # Use the "dollar_format()" function from scales (ggplot dep'cy)
scale_x_discrete(breaks = dates_to_show) # Use the dates_to_show var we defined above to skip 20 quarters
p_3
p_4 <- p_3 +
labs(title = "Nominal Gross Domestic Product",
subtitle = "Total [Billions], Per Capita, and Projection") + #Add chart title, subtitle
theme(axis.text.x = element_text(angle = 45, hjust=1), #Rotate axis labels and shift to the right
plot.title = element_text(hjust = 0.5),          #Center chart title
plot.subtitle = element_text(hjust = 0.5))       #Center chart subtitle
p_4
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Beginning of Great Recession", "End of Great Recession", "Beginning of COVID Recession")
)
p_4 + geom_text(data=annotation, aes( x=x, y=y, label=label),
color="orange",
size=7 , angle=45, fontface="bold" )
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Beginning of Great Recession", "End of Great Recession", "Beginning of COVID Recession")
)
p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="orange",
size=7 , angle=45, fontface="bold" )
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Beginning of Great Recession", "End of Great Recession", "Beginning of COVID Recession")
)
p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="orange",
size=1 , angle=45, fontface="bold" )
source('~/.active-rstudio-document', echo=TRUE)
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Beginning of Great Recession", "End of Great Recession", "Beginning of COVID Recession")
)
p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="orange",
size=3 , angle=45, fontface="bold" )
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Beginning of Great Recession", "End of Great Recession", "Beginning of \n COVID Recession")
)
p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="orange",
size=3 , angle=45, fontface="bold" )
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Beginning of Great Recession", "End of Great Recession", "Beginning of \nCOVID Recession")
)
p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="orange",
size=3 , angle=45, fontface="bold" )
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Beginning of Great Recession", "End of Great Recession", "Beginning of \nCOVID Recession")
)
p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="orange",
size=3 , angle=45, fontface="bold", hjust = 0)
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Beginning of Great Recession", "End of Great Recession", "Beginning of \nCOVID Recession")
)
p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="orange",
size=3 , angle=45, fontface="bold", hjust = 1)
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Beginning of Great Recession", "End of Great Recession", "Beginning of \nCOVID Recess'n")
)
p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="orange",
size=3 , angle=45, fontface="bold", hjust = 1)
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Beginning of Great Recession", "End of Great Recession", "Beginning of \nCOVID Recession  ")
)
p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="orange",
size=3 , angle=45, fontface="bold", hjust = 1)
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Beginning of Great Recession", "End of Great Recession", "Beginning of \nCOVID Recession  .")
)
p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="orange",
size=3 , angle=45, fontface="bold", hjust = 1)
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Beginning of Great Recession", "End of Great Recession", "Beginning of \nCOVID Recession   .")
)
p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="orange",
size=3 , angle=45, fontface="bold", hjust = 1)
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Beginning of \nGreat Recession", "End of \nGreat Recession", "Beginning of \nCOVID Recession   .")
)
p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="orange",
size=3 , angle=45, fontface="bold", hjust = 1)
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Beginning of \nGreat Recession", "End of \nGreat Recession", "Beginning of \nCOVID Recession   .")
)
p_5 <- p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="black", size=3 , angle=45,
fontface="bold", hjust = 1)
p_5
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Beginning of \nGreat Recession", "End of \nGreat Recession", "Beginning of \nCOVID Recession   .")
)
p_5 <- p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="black", size=3 , angle=45,
fontface="bold", hjust = 0)
p_5
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Beginning of \nGreat Recession", "End of \nGreat Recession", "Beginning of \nCOVID Recession   .")
)
p_5 <- p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="black", size=3 , angle=45,
fontface="bold", hjust = 1)
p_5
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Beginning of \nGreat Recession", "End of G.R.", "COVID Recession   .")
)
p_5 <- p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="black", size=3 , angle=45,
fontface="bold", hjust = 1)
p_5
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Start of G.R.", "End of G.R.", "COVID Recession   .")
)
p_5 <- p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="black", size=3 , angle=45,
fontface="bold", hjust = 1)
p_5
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Start of G.R.", "End of G.R.", "COVID Recession")
)
p_5 <- p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="black", size=3 , angle=45,
fontface="bold", hjust = 1)
p_5
p_4 <- p_3 +
labs(title = "Nominal Gross Domestic Product",
subtitle = "Total [Billions], Per Capita, and Projection") + #Add chart title, subtitle
theme(axis.text.x = element_text(angle = 45, hjust=1), #Rotate axis labels and shift to the right
plot.title = element_text(hjust = 0.5),          #Center chart title
plot.subtitle = element_text(hjust = 0.5))  +    #Center chart subtitle
theme_minimal()                                        #I personally am a fan of the minimal view
p_4
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Start of G.R.", "End of G.R.", "COVID Recession")
)
p_5 <- p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="black", size=3 , angle=45,
fontface="bold", hjust = 1)
p_5
#Create the base layer
p_0 <- ggplot(gdp, aes(x=Period, y=Dollars, group=1))
#At first, this is just an empty canvas with axis labels and grid lines.
p_0
p_1 <- p_0 +
geom_line(aes(size = Dollars/Population), color = "#FC4E07") +
geom_line(size = 1.05)
p_1
p_2 <- p_1 +
stat_smooth(method = "loess")
p_2
dates_to_show <- gdp$Period[seq(1, length(gdp$Period), by = 20)]
print(dates_to_show)
p_3 <- p_2 +
scale_y_continuous(labels=scales::dollar_format()) +  # Use the "dollar_format()" function from scales (ggplot dep'cy)
scale_x_discrete(breaks = dates_to_show) # Use the dates_to_show var we defined above to skip 20 quarters
p_3
p_4 <- p_3 +
labs(title = "Nominal Gross Domestic Product",
subtitle = "Total [Billions], Per Capita, and Projection") + #Add chart title, subtitle
theme(axis.text.x = element_text(angle = 45, hjust=1), #Rotate axis labels and shift to the right
plot.title = element_text(hjust = 0.5),          #Center chart title
plot.subtitle = element_text(hjust = 0.5))  +    #Center chart subtitle
theme_minimal()                                        #I personally am a fan of the minimal view
p_4
p_4 <- p_3 +
theme_minimal() +                                      #I personally am a fan of the minimal view
labs(title = "Nominal Gross Domestic Product",         #Add chart title, subtitle
subtitle = "Total [Billions], Per Capita, and Projection") +
theme(axis.text.x = element_text(angle = 45, hjust=1), #Rotate axis labels and shift to the right
plot.title = element_text(hjust = 0.5),          #Center chart title
plot.subtitle = element_text(hjust = 0.5))       #Center chart subtitle
p_4
# a data frame with all the annotation info
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Start of G.R.", "End of G.R.", "COVID Recession")
)
p_5 <- p_4 + geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),
color="black", size=3 , angle=45,
fontface="bold", hjust = 1)
p_5
p_6 <- p_5 +
annotate("pointrange", x = '2008Q1', y = 15000, xmin = '2007Q4', xmax = '2009Q2', ymin = 0, ymax = 25000,colour = "orange", size = 1.5, alpha=0.4)
p_6
p_7 <- p_6 +
annotate("rect", xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000,colour = "red", size = 1.5, alpha=0.4)
p_6
p_7 <- p_6 +
annotate("rect", xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000,colour = "red", size = 1.5, alpha=0.4)
p_7
p_6 <- p_5 +
annotate("pointrange", x = '2008Q1', y = 15000, xmin = '2007Q4', xmax = '2009Q2', ymin = 0, ymax = 25000,colour = "orange", size = 1.5, alpha=0.4)
p_6
p_7 <- p_6 +
annotate("rect", xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000,colour = "red", size = 1.5, alpha=0.4)
p_7
p_7 <- p_6 +
annotate("rect", xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000,colour = "red", size = 0.5, alpha=0.2)
p_7
p_7 <- p_6 +
annotate("rect", xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000,colour = "red", size = 0.5, alpha=0.4)
p_7
p_7 <- p_6 +
annotate("rect", xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000,colour = "red", size = 0.5, alpha=0.4)
p_7
p_7 <- p_6 +
annotate("rect", xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000,colour = "red", size = 0.05, alpha=0.4)
p_7
p_7 <- p_6 +
annotate("rect", xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000,colour = "red", fill = "red" size = 0.05, alpha=0.4)
p_7 <- p_6 +
annotate("rect", xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000,colour = "red", fill = "red", size = 0.05, alpha=0.4)
p_7
p_7 <- p_6 +
annotate("rect", xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000,colour = "none", fill = "red", size = 0.05, alpha=0.4)
p_7
p_7 <- p_6 +
annotate("rect", xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000, fill = "red", size = 0.05, alpha=0.4)
p_7
p_6 <- p_5 +
annotate("rect", xmin = '2007Q4', xmax = '2009Q2', ymin = 0, ymax = 25000, colour = "orange", fill = "orange", size = 0.5, alpha=0.4)
p_6
p_7 <- p_6 +
annotate("pointrange", x = '2020Q2', y = 20000, xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000, fill = "red", size = 0.05, alpha=0.4)
p_7
p_6 <- p_5 +
annotate("rect", xmin = '2007Q4', xmax = '2009Q2', ymin = 0, ymax = 25000, color = "orange", fill = "orange", size = 0.5, alpha=0.4)
p_6
p_7 <- p_6 +
annotate("pointrange", x = '2020Q2', y = 20000, xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000, fill = "red", size = 0.05, alpha=0.4)
p_7
p_7 <- p_6 +
annotate("pointrange", x = '2020Q2', y = 20000, xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000, color = "red", size = 1.5, alpha=0.4)
p_7
p_7 <- p_6 +
annotate("pointrange", x = '2020Q2', y = 20000, xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000, colour = "red", size = 1.5, alpha=0.4)
p_7
p_iris <- ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, colour = Species)) +
geom_point() +
stat_smooth(method = lm) +
scale_x_log10() +
scale_y_log10()
p_iris
annotation <- data.frame(
Period = c("2007Q4","2009Q2", "2020Q2"),
Dollars = c(20000,10000, 25000),
label = c("Start of G.R.", "End of G.R.", "COVID Recession")
)
p <- ggplot(gdp, aes(x=Period, y=Dollars, group=1)) + # our data and mapping layer
annotate("rect", xmin = '2007Q4', xmax = '2009Q2', ymin = 0, ymax = 25000, color = "orange", fill = "orange", size = 0.5, alpha=0.4) + # Our annotation layers go first!
annotate("pointrange", x = '2020Q2', y = 20000, xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000, color = "red", size = 1.5, alpha=0.4) +
geom_line(aes(size = Dollars/Population), color = "#FC4E07") +  # Our two geom line (mark) layers
geom_line(size = 1.05) +
stat_smooth(method = "loess") + # Our stats layer
scale_y_continuous(labels=scales::dollar_format()) +  # Use the "dollar_format()" function from scales (ggplot dep'cy)
scale_x_discrete(breaks = dates_to_show) + # Use the dates_to_show var we defined above to skip 20 quarters
geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),   #Add our text annotations
color="black", size=3 , angle=45,                          #Add last so it is on top of all other marks!
fontface="bold", hjust = 1) +
theme_minimal() +                                      #Wrap up with our themes. Minimal view theme must come first!
labs(title = "Nominal Gross Domestic Product",         #Add chart title, subtitle
subtitle = "Total [Billions], Per Capita, and Projection") +
theme(axis.text.x = element_text(angle = 45, hjust=1), #Rotate axis labels and shift to the right
plot.title = element_text(hjust = 0.5),          #Center chart title
plot.subtitle = element_text(hjust = 0.5))       #Center chart subtitle
p
p <- ggplot(gdp, aes(x=Period, y=Dollars, group=1)) + # our data and mapping layer
annotate("rect", xmin = '2007Q4', xmax = '2009Q2', ymin = 0, ymax = 25000, color = "orange", fill = "orange", size = 0.5, alpha=0.4) + # Our annotation layers go first!
annotate("pointrange", x = '2020Q2', y = 20000, xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000, color = "red", size = 1.5, alpha=0.4) +
geom_line(aes(size = Dollars/Population), color = "#FC4E07") +  # Our two geom line (mark) layers
geom_line(size = 1.05) +
stat_smooth(method = "loess") + # Our stats layer
scale_y_continuous(labels=scales::dollar_format()) +  # Use the "dollar_format()" function from scales (ggplot dep'cy)
scale_x_discrete(breaks = dates_to_show) + # Use the dates_to_show var we defined above to skip 20 quarters
geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),   #Add our text annotations
color="black", size=3 , angle=45,                          #Add last so it is on top of all other marks!
fontface="bold", hjust = 1) +
theme_minimal() +                                      #Wrap up with our themes. Minimal view theme must come first!
labs(title = "Nominal Gross Domestic Product",         #Add chart title, subtitle
subtitle = "Total [Billions], Per Capita, and Projection") +
theme(axis.text.x = element_text(angle = 45, hjust=1), #Rotate axis labels and shift to the right
plot.title = element_text(hjust = 0.5),          #Center chart title
plot.subtitle = element_text(hjust = 0.5))       #Center chart subtitle
p
p <- ggplot(gdp, aes(x=Period, y=Dollars, group=1)) + # our data and mapping layer
annotate("rect", xmin = '2007Q4', xmax = '2009Q2', ymin = 0, ymax = 25000, color = "orange", fill = "orange", size = 0.5, alpha=0.4) + # Our annotation layers go first!
annotate("pointrange", x = '2020Q2', y = 20000, xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000, color = "red", size = 1.5, alpha=0.4) +
geom_line(aes(size = Dollars/Population), color = "#FC4E07", alpha = 0.5) +  # Our two geom line (mark) layers
geom_line(size = 1.05) +
stat_smooth(method = "loess") + # Our stats layer
scale_y_continuous(labels=scales::dollar_format()) +  # Use the "dollar_format()" function from scales (ggplot dep'cy)
scale_x_discrete(breaks = dates_to_show) + # Use the dates_to_show var we defined above to skip 20 quarters
geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),   #Add our text annotations AFTER all other
color="black", size=3 , angle=45,                          #  geoms so it is on top of all other marks
fontface="bold", hjust = 1) +
theme_minimal() +                                      #Wrap up with our themes. Minimal view theme must come first!
labs(title = "Nominal Gross Domestic Product",         #Add chart title, subtitle
subtitle = "Total [Billions], Per Capita, and Projection") +
theme(axis.text.x = element_text(angle = 45, hjust=1), #Rotate axis labels and shift to the right
plot.title = element_text(hjust = 0.5),          #Center chart title
plot.subtitle = element_text(hjust = 0.5))       #Center chart subtitle
p
p <- ggplot(gdp, aes(x=Period, y=Dollars, group=1)) + # our data and mapping layer
annotate("rect", xmin = '2007Q4', xmax = '2009Q2', ymin = 0, ymax = 25000, color = "orange", fill = "orange", size = 0.5, alpha=0.4) + # Our annotation layers go first!
annotate("pointrange", x = '2020Q2', y = 20000, xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000, color = "red", size = 1.5, alpha=1) +
geom_line(aes(size = Dollars/Population), color = "#FC4E07", alpha = 0.5) +  # Our two geom line (mark) layers
geom_line(size = 1.05) +
stat_smooth(method = "loess") + # Our stats layer
scale_y_continuous(labels=scales::dollar_format()) +  # Use the "dollar_format()" function from scales (ggplot dep'cy)
scale_x_discrete(breaks = dates_to_show) + # Use the dates_to_show var we defined above to skip 20 quarters
geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),   #Add our text annotations AFTER all other
color="black", size=3 , angle=45,                          #  geoms so it is on top of all other marks
fontface="bold", hjust = 1) +
theme_minimal() +                                      #Wrap up with our themes. Minimal view theme must come first!
labs(title = "Nominal Gross Domestic Product",         #Add chart title, subtitle
subtitle = "Total [Billions], Per Capita, and Projection") +
theme(axis.text.x = element_text(angle = 45, hjust=1), #Rotate axis labels and shift to the right
plot.title = element_text(hjust = 0.5),          #Center chart title
plot.subtitle = element_text(hjust = 0.5))       #Center chart subtitle
p
p <- ggplot(gdp, aes(x=Period, y=Dollars, group=1)) + # our data and mapping layer
annotate("rect", xmin = '2007Q4', xmax = '2009Q2', ymin = 0, ymax = 25000, color = "orange", fill = "orange", size = 0.5, alpha=0.4) + # Our annotation layers go first!
annotate("pointrange", x = '2020Q2', y = 20000, xmin = '2020Q1', xmax = '2020Q2', ymin = 0, ymax = 25000, color = "red", size = 1.5, alpha=.75) +
geom_line(aes(size = Dollars/Population), color = "#FC4E07", alpha = 0.5) +  # Our two geom line (mark) layers
geom_line(size = 1.05) +
stat_smooth(method = "loess") + # Our stats layer
scale_y_continuous(labels=scales::dollar_format()) +  # Use the "dollar_format()" function from scales (ggplot dep'cy)
scale_x_discrete(breaks = dates_to_show) + # Use the dates_to_show var we defined above to skip 20 quarters
geom_text(data=annotation, aes( x=Period, y=Dollars, label=label),   #Add our text annotations AFTER all other
color="black", size=3 , angle=45,                          #  geoms so it is on top of all other marks
fontface="bold", hjust = 1) +
theme_minimal() +                                      #Wrap up with our themes. Minimal view theme must come first!
labs(title = "Nominal Gross Domestic Product",         #Add chart title, subtitle
subtitle = "Total [Billions], Per Capita, and Projection") +
theme(axis.text.x = element_text(angle = 45, hjust=1), #Rotate axis labels and shift to the right
plot.title = element_text(hjust = 0.5),          #Center chart title
plot.subtitle = element_text(hjust = 0.5))       #Center chart subtitle
p
p
#You must change this!
WORKING_DIRECTORY <- 'CHANGE THIS TO YOUR WORKING DIRECTORY (top level folder where you cloned git repo)'
#Set working directory (also do this for knit)
setwd(WORKING_DIRECTORY)
WORKING_DIRECTORY<-'D:/github/bea_r_vis'
#Set working directory (also do this for knit)
setwd(WORKING_DIRECTORY)
knitr::opts_knit$set(root.dir = WORKING_DIRECTORY)
knitr::opts_chunk$set(echo = TRUE)
#Load the ggplot2 package
library(ggvis)
WORKING_DIRECTORY<-'D:/github/bea_r_vis'
#Set working directory (also do this for knit)
setwd(WORKING_DIRECTORY)
knitr::opts_knit$set(root.dir = WORKING_DIRECTORY)
knitr::opts_chunk$set(echo = TRUE)
#Load the ggplot2 package
library(ggvis)
install.packages('ggvis')
#Load the ggplot2 package
library(ggvis)
install.pakages('rlang')
install.packages('rlang')
install.packages("rlang")
install.packages("rlang")
install.packages("rlang")
